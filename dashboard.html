<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tableau de bord - COLLOCOV">
    <title>Tableau de bord - COLLOCOV</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dist/css/main.css">
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <nav class="nav container">
            <div class="nav__logo">
                <a href="index.html" class="logo-link">/COLLOCOV</a>
            </div>
            <ul class="nav__menu">
                <li class="nav__item"><a href="index.html" class="nav__link">Acceuil</a></li>
                <li class="nav__item"><a href="#" class="nav__link">À propos</a></li>
                <li class="nav__item"><a href="#" class="nav__link">Contact</a></li>
                <li class="nav__item"><a href="#" class="nav__link">Tarifs</a></li>
                <li class="nav__item"><a href="#" class="nav__link">urgence</a></li>
            </ul>
            <div class="nav__actions">
                <span class="nav__user" id="userName"></span>
                <button class="btn btn--primary" onclick="logoutUser()">Déconnexion</button>
            </div>
            <button class="nav__toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="dashboard-section">
                <h1 class="dashboard-title">Bienvenue sur votre tableau de bord</h1>
                <div class="dashboard-content" id="dashboardContent">
                    <!-- Le contenu sera chargé dynamiquement -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section footer__about">
                    <h3 class="footer__logo">/COLLOCOV</h3>
                    <p class="footer__description">
                        La plateforme qui connecte les étudiants pour la colocation et le covoiturage. 
                        Libère ton potentiel étudiant avec nous.
                    </p>
                </div>
                <div class="footer__section">
                    <h4 class="footer__title">Liens rapides</h4>
                    <ul class="footer__links">
                        <li><a href="index.html" class="footer__link">Acceuil</a></li>
                        <li><a href="#" class="footer__link">À propos</a></li>
                        <li><a href="#" class="footer__link">Contact</a></li>
                        <li><a href="#" class="footer__link">Tarifs</a></li>
                    </ul>
                </div>
                <div class="footer__section">
                    <h4 class="footer__title">Services</h4>
                    <ul class="footer__links">
                        <li><a href="#" class="footer__link">Colocation Étudiante</a></li>
                        <li><a href="#" class="footer__link">Covoiturage</a></li>
                        <li><a href="#" class="footer__link">Urgence</a></li>
                        <li><a href="#" class="footer__link">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer__section">
                    <h4 class="footer__title">Contact</h4>
                    <ul class="footer__links">
                        <li><a href="mailto:contact@collocov.com" class="footer__link">contact@collocov.com</a></li>
                        <li><a href="tel:+33123456789" class="footer__link">+33 1 23 45 67 89</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p class="footer__copyright">
                    &copy; 2024 COLLOCOV. Tous droits réservés.
                </p>
            </div>
        </div>
    </footer>

    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Vérifier si l'utilisateur est connecté
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = isLoggedIn();
            
            if (!currentUser) {
                // Rediriger vers la page de connexion si non connecté
                alert('Vous devez être connecté pour accéder à cette page');
                window.location.href = 'connexion.html';
                return;
            }
            
            // Afficher le nom de l'utilisateur
            const userNameElement = document.getElementById('userName');
            if (userNameElement) {
                userNameElement.textContent = `Bonjour, ${currentUser.nom}`;
            }
            
            // Afficher les informations du dashboard
            const dashboardContent = document.getElementById('dashboardContent');
            if (dashboardContent) {
                const user = getCurrentUser();
                dashboardContent.innerHTML = `
                    <div class="dashboard-card">
                        <h2>Mes informations</h2>
                        <div class="dashboard-info">
                            <p><strong>Nom :</strong> ${user.nom}</p>
                            <p><strong>Email :</strong> ${user.email}</p>
                            <p><strong>Téléphone :</strong> ${user.telephone}</p>
                        </div>
                    </div>
                    <div class="dashboard-actions">
                        <button class="btn btn--yellow-outline" onclick="window.location.href='index.html'">
                            <span class="btn__icon-circle">
                                <img src="image/image 1.png" alt="Car icon" class="btn__car-icon">
                            </span>
                            Proposer un trajet
                        </button>
                        <button class="btn btn--blue" onclick="window.location.href='index.html'">
                            Commencer
                            <svg class="btn__arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                <polyline points="12 5 19 12 12 19"></polyline>
                            </svg>
                        </button>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>

